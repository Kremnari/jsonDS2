<template bindable="type, subTypeOf, baseApp">
  <require from="resources/viewElements/subTypeSelector.html" as="sub-type-selector"></require>
  <h5>
    Edit Type: ${type.$name}
    <span if.bind="subTypeOf">
      &nbsp;&nbsp;
      sub of: ${subTypeOf}
    </span>
  </h5>
  Description:&nbsp;<input type="text" value.bind="type.$description"><br />
  Validator Function:&nbsp;<input type="text" value.bind="type.$validator">
  <div if.bind="type.$subTypes">
    <p>
      New Subtype:
      <input type="text" value.bind="newSubTypeName">
      <button click.delegate="baseApp.editTypeOf(type.$name, newSubTypeName)">+</button>
    </p>
    <p repeat.for="subT of type.$subTypes | objectValues">
      <span click.delegate="baseApp.editTypeOf(type.$name, subT)">${subT.$name}</span>
    </p>
  </div>
  <div if.bind="subTypeOf">
    Parameters
    <p repeat.for="param of type.$params | objectValues & signal:'generalUpdate'">
      ${param.$name}:${param.$type}${param.$desc && " - "+param.$desc}
    </p>
    New parameter:
      <input type="hidden" value.bind="(newParamType = {})">
      <sub-type-selector
        typing.bind="newParamType"
        signaler.bind="baseApp.signaler"
        types.bind="baseApp.jDS2.types_list_base"
      ></sub-type-selector>
    named: <input type="text" value.bind="newParamName"><br>
    <input type="text" value.bind="newParamDesc" placeholder="description"><br>
    ${newParamType.base}<br>
    ${newParamType.subT}
    <button click.delegate="baseApp.addParam({newParamName, newParamType, newParamDesc})">Add</button>
  </div>
</template>
