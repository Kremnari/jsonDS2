<template>
  <require from="app.css"></require>
  <nav>
    <input type="file" change.delegate="loadFile($event)" accept=".jds2,.json">Load JsDS</input>
    <button click.delegate="saveFile()">Save Project</button>
  </nav>
  <div class="content">
    <section id="tablesList">
      <h4>Table/Object List</h4>
      <div note="add new static content table">
        <input type="text" value.bind="newTable"></input>
        <button click.delegate="addNewTable(newTable)">+</button>
      </div>
      <div repeat.for="t of tables">
        <span click.delegate="showTableContent(t)">${t}</span>
        <span click.delegate="editTableSchema(t)">&#9998;</span>
      </div>
    </section>
    <section id="editorArea">
      <section if.bind="editor.as == 'list'">
        <div>
          Add new Name:
          <input type="text" value.bind="newContentName"></input>
          <button click.delegate="addNewContentItem(newContentName)">+</button>
        </div>
        <ul>
          <li repeat.for="contentItem of editor.list" click.delegate="editContentItem($index)">
            ${contentItem.name}
          </li>
        </ul>
        <div id="CIEditor" if.bind="editor.CIEdit">
          ${editor.CIEdit.name}
          Add new Field:
          <select name="types" value.bind="newFieldType">
            <option repeat.for="type of types" model.bind="type">${type}</option>
          </select>
          <input type="text" value.bind="newFieldName">name</input>
          <button click.delegate="addField(newFieldName, newFieldType)">+</button>
          <div repeat.for="prop of editor.schema">
            ${prop.name} - ${prop.type}<input type="text" value.bind="editor.CIEdit.props[prop.name]"></input>
          </div>
        </div>

      </section>
      <section if.bind="editor.as == 'editTable'">
        <div repeat.for="value of editor.schema">

        </div>
      </section>
      <section if.bind="editor.as == 'editType'">
        Edit Type
      </section>
    </section>
    <section id="typesList">
      <h4>Types List</h4>
      <div note="add new type">
        <input type="text" value.bind="newTypeName"></input>
        <button click.delegate="addNewType(newTypeName)">+</button>
      </div>
      <div repeat.for="type of types">
        <span click.delegate="editTypeOf(type)">${type}</span>
        <div repeat.for="subT of type.subtypes" if.bind="type.subtypes">
          <span click.delegate="editTypeOf(subT)">${subT.name}</span>
        </div>
      </div>
    </section>
    <section id="somethingsomethingdarkside">

    </section>
  </div>
</template>
